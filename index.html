<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<title>>_</title>
<style type="text/css">

html,body {
    margin: 0; padding: 0; overflow: hidden;
    width: 100%; height: 100%;
    font-family: "Droid Sans", "Liberation Sans", "DejaVu Sans", "Segoe UI", Sans; font-size: 10pt;
    background: #17181A;
}
*:focus  { outline: none; }
ul, li   { list-style-type: none; margin: 0; padding: 0; }
textarea { background: transparent; color: #CECFD1; }

a, a:link, a:visited { color: #CECFD1; text-decoration: none; transition: .2s ease-out; }
a:hover, a:active    { color: #111113; }

#overlay {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%; z-index: 2;
    opacity: 1; transition: .5s;
    background: #17181A;
    /* Uncomment below and disable 'showPreview' in the javascript to use custom background image */
    background: url('logo_mark1.png') no-repeat center center fixed;
    /* Máscara de opacidad del fondo */
    background-size: cover; opacity: .50;
}

#center { position: relative; width: 100%; height: 100%; }
#center #content {
    margin: 0; overflow: visible; width: 100%; height: auto;
    /* Cambiar posición de la barra de búsqueda */
    position: absolute; top: 58%; transform: translate(0,-50%);
    text-align: center; opacity: 1; z-index: 10;  /* #17181A || transparent */
}

/* Barra de búsqueda */
#q {
    width: calc((120px * 4) - (8px * 2));
    /* Color de la barra de búsqueda */
    background: #27282B; color: #CECFD1;
    border: 0; border-radius: 1px;
    font-family: "Droid Sans", "Liberation Sans", "DejaVu Sans", "Segoe UI", Sans; font-size: 12pt;
    padding: 4px 8px; height: 24px;
}

#more {
    background: transparent; color: #AAABAD; display: block;
    text-align: center; margin: 0 auto; width: 32px; height: 32px;
    font-weight: bold; cursor: default;
}
    #plus {
        border: 0; border-radius: 1px 1px 0 0; width: 32px; height: 32px; font-size: 12pt;
        background: transparent; color: #CECFD1; font-weight: bold; cursor: pointer;
        transition: .2s ease-out;
    }
    #help {
        display: block; visibility: hidden; width: 320px; cursor: default;
        position: absolute; left: 0; right: 0; margin: auto;
        font-family: "PragmataPro", "Droid Sans Mono", "Liberation Sans Mono", "DejaVu Sans Mono", "Consolas", "Lucida Console", monospace;
        padding: 8px; text-align: left; border-radius: 1px; opacity: 0;
        /* Menú de ayuda */
        background: #27282B; color: #AAABAD; transition: .2s ease-out;
    }
    #more:hover #plus { background: #27282B; }
    #more:hover #help { visibility: visible; opacity: 1; }
    #note { width: 100%; height: 100px; resize: none; border: 0; outline: 0; }

    #menu {
        /* Medidas */
        position:fixed;
        left: 29%;
        top: 320%;
    background: transparent; color: #AAABAD; cursor: default;
}
    #mnu                   { height: 32px; line-height: 32px; width: calc((200px * 4) + 1px); }

    #menu ul               { display: inline-table; position: relative; list-style: none; }
    #menu label            { padding: 0; display: inline-block; font-weight: bold; width: 200px; /* menu width */ }

    #menu ul li            { float: left; border-radius: 0 0 1px 1px; height: 32px; text-align: center; transition: .2s ease-out; }
    #menu ul li:hover      { background: #27282B; color: #cecfd1; }
    #menu ul li a          { display: block; white-space: nowrap; padding: 0 10px; }

    #menu ul ul {
        display: flex; flex-flow: column wrap; /* column | row(-reverse) */ align-content: flex-start;
        visibility: hidden; opacity: 0; width: calc(200px * 4); /* cols */ height: calc(32px * 3); /* rows */
        position: absolute; bottom: 100%; left: 0; z-index: 11;
        /* Color de fondo del menú*/
        background: #27282B; opacity: 0; border-radius: 1px; transition: .2s ease-out;
    }
    #menu ul li:hover > ul { bottom: 100%; visibility: visible; opacity: 1; z-index: 12; height: calc(32px * 3); /* rows */ }
    /* Fondo por debajo del menú //Falta un "opacity: 1;" */
    #menu ul ul li { background: none; border-radius: 1px; height: 32px; text-align: left; width: 200px; /* menu width */ }

    /* Menu Colors */
    #menu ul #mnu_1 li:hover { background: #ba2d33; }
    #menu ul #mnu_2 li:hover { background: #ba2d33; }
    #menu ul #mnu_3 li:hover { background: #ba2d33; }
    #menu ul #mnu_4 li:hover { background: #ba2d33; }

    #menu img { position: relative; top: 3px; left: -3px; width: 16px; height: 16px; visibility: hidden; }


</style>
<script type="text/javascript" language="javascript">
var $=function(id) { return document.getElementById(id); };

var help="<ul> \
    <li><b>!g</b> = Search Google (Default)</li> \
    <li><b>!i</b> = Search Google Images</li> \
    <li><b>!u</b> = Search Urban Dictionary</li> \
    <li><b>!a</b> = Search Amazon.co.uk</li> \
    <li><b>!y</b> = Search YouTube</li> \
</ul>";

var search=[                                                                                                                            // Search engines
    ["",    "https://www.google.com/#q="],                                                                                              // Google (Default)
    ["!g",  "https://www.google.com/#q="],                                                                                              // Google
    ["!i",  "https://www.google.com/search?tbm=isch&q="],                                                                               // Google Images
    ["!u",  "http://www.urbandictionary.com/define.php?term="],                                                                         // Urban Dictionary
    ["!a",  "https://www.amazon.co.uk/s/ref=nb_sb_noss_2?url=search-alias%3Daps&field-keywords="],                                      // Amazon.co.uk
    ["!y",  "https://www.youtube.com/results?search_query="],                                                                           // YouTube
];

var menu=[                                                          // Menu titles
    "Compras",                                                      // mnu_1
    "Trackers",                                                     // mnu_2
    "Info",                                                         // mnu_3
    "Otros",                                                        // mnu_4
    ];

var showFavicon = true;                                             // Enable/Disable Link Favicons (img)
var showPreview = false;                                            // Enable/Disable Link Hover Preview (iframe)

// Link setup (separate with ["", "", ""],)
// Format: ["Name", "URL", "Custom Favicon"],
var links=[

    // Compras -           mnu_1
    ["Amazon ES",                           "https://www.amazon.es/",                       "https://www.amazon.es/favicon.ico"],
    ["Amazon UK",                           "https://www.amazon.es/",                       "https://www.amazon.es/favicon.ico"],
    ["PC Componentes",                      "https://www.pccomponentes.com/",               "https://www.pccomponentes.com/favicon.ico"],
    ["Akira Comics",                        "https://www.akiracomics.com/",                 "https://www.akiracomics.com/favicon.ico"],
    ["Norma Comics",                        "https://www.normacomics.com/",                 "https://cdn.normacomics.com/media/favicon/default/favicon.ico"],
    ["Game",                                "https://www.game.es/",                         "https://www.game.es//favicon.ico"],
    ["Instant Gaming",                      "https://www.instant-gaming.com/es/",           "https://www.instant-gaming.com/favicon.ico"],
    ["Xtralife",                            "https://www.xtralife.es/",                     "https://www.xtralife.es/favicon.ico"],
    ["Humblebundle",                        "https://www.humblebundle.com/",                "https://humblebundle-a.akamaihd.net/static/hashed/03df0490a53d595fd930f9fff52038366d60a05d.png"],
    ["Cash Converters",                     "https://webshop.cashconverters.es/",           "https://webshop.cashconverters.es/favicon.ico"],
    ["MagicCardMarket",                     "https://es.magiccardmarket.eu/",               "https://es.magiccardmarket.eu/img/3c3274c583a1412e56ec40ad98ee8937/static/misc/apple-touch-icon-precomposed.png"],

    ["", "", ""],

    // Trackers -          mnu_2
    ["Youtube",                             "https://www.youtube.com/?gl=ES&hl=es",         "https://s.ytimg.com/yts/img/favicon-vflz7uhzw.ico"],
    ["Soundcloud",                          "https://soundcloud.com/",                      "https://a-v2.sndcdn.com/assets/images/sc-icons/favicon-2cadd14b.ico"],
    ["Twitter",                             "https://twitter.com/?lang=es",                 "https://abs.twimg.com/favicons/favicon.ico"],
    ["Inbox",                               "https://inbox.google.com/",                    "https://ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/ic_product_inbox_16dp_r2_2x.png"],
    ["Drive",                               "https://drive.google.com/",                    "https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_4.ico"],
    ["Trello",                              "https://trello.com/",                          "https://a.trellocdn.com/images/ios/0307bc39ec6c9ff499c80e18c767b8b1/apple-touch-icon-152x152-precomposed.png"],
    ["Linkedin",                            "https://www.linkedin.com",                     "https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca"],
    ["WhatsappWeb",                         "https://web.whatsapp.com/",                    "https://web.whatsapp.com/img/favicon/1x/favicon.png"],
    ["ECC",                                 "https://www.ecccomics.com/",                   "https://www.ecccomics.com/imagenes/favicon.ico"],
    ["Panini Cómics",                       "http://www.paninicomics.es/web/guest/home",    "http://www.paninicomics.es/paninicomics-es-theme/images/liferay.ico"],
    ["Eurogamer",                           "http://www.eurogamer.es/",                     "http://www.eurogamer.es/favicon.ico"],
    ["Reddit",                              "https://www.reddit.com/",                      "https://www.redditstatic.com/icon.png"],

    ["", "", ""],

    //  Info -          mnu_3
    ["Pastebin",                            "http://pastebin.com/",                                                 "http://pastebin.com/favicon.ico"],
    ["Stackoverflow",                       "https://es.stackoverflow.com/",                                        "https://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico"],
    ["Github",                              "https://github.com/",                                                  "https://github.com/favicon.ico"],
    ["Horario",                             "file:///C:/Users/Zer0/Documents/Firefox%20home/horario/Horario.htm",   "http://socialboss4u.com/wordpress/wp-content/uploads/2014/09/ico_schedule.png"],
    ["Escola Pia Moodle",                   "https://eva.educamos.com/epmataro_escolapia_mataro/eva",               "https://sso2.educamos.com/cdn/Content/images/favicon.png"],
    ["Escola Pia Educamos",                 "https://epmataro-escolapia-mataro.educamos.com/",                      "https://sso2.educamos.com/cdn/Content/images/favicon.png"],
    ["Escola Pia Plataforma", "url", "favicon"],

    ["", "", ""],

    // Other -          mnu_4
    ["UserBenchmark",                       "http://www.userbenchmark.com/",                "http://www.userbenchmark.com/favicon.ico"],
    ["Knowyourmeme",                        "http://knowyourmeme.com/",                     "http://knowyourmeme.com/favicon.ico"],
    ["Urbandictionary",                     "http://www.urbandictionary.com/",              "http://www.rae.es/favicon.ico"],
    ["Inmanga ES",                          "http://inmanga.com/",                          "http://inmanga.com/inmangafavicon.png"],
    ["Mangastream",                         "http://mangastream.com/",                      "http://mangastream.com/favicon.ico"],
    ["Readcomics EN",                       "http://readcomiconline.to/",                   "http://readcomiconline.to/Content/images/favicon.ico"],
    ["Anime FLV",                           "https://animeflv.net/",                        "https://animeflv.net/favicon.ico"],
    ["Deckstats",                           "https://deckstats.net/?lng=es",                "https://deckstats.net/favicon.ico"],
    ["Netflix",                             "https://www.netflix.com/es/",                  "https://www.netflix.com/es/favicon.ico"],
    ["The Pirate Bay Proxy List",           "https://thepiratebay-proxylist.org/",          "https://thepiratebay-proxylist.org/assets/img/icons/favicon-32x32.png"],
];

var i,ss="";
function init() {
    for(i=0;i<search.length;i++) if(search[i][0]=="") ss=search[i][1];
    if(ss=="") alert("Error: Missing default search engine!");

    $('help').innerHTML=help;
    if(localStorage.getItem('note')!=null) if(localStorage.getItem('note').length!=0) toggleNote();
    build();

    if(showPreview) preview(0,0);
    $('q').value="";
    $('q').focus();
}

function build() { // Build menu
    $('mnu').innerHTML="";

    for(i=0;i<menu.length;i++) { // Menu titles
        $('mnu').innerHTML+="<li><label>"+menu[i]+"</label>\n<ul id=\"mnu_"+(i+1)+"\"></ul></li>";
    }

    var m=1,skip=false;
    for(i=0;i<links.length;i++) { // Menu links
        if(links[i][0]=="" && links[i][1]=="") skip=true;

        if(!skip) {
            var prev="",printimg="";

            if(showFavicon) {
                var favicon;
                if(links[i][2]!="") favicon=links[i][2];
                else                favicon=getFavicon(links[i][1]);

                printimg="<img id=\"img_"+i+"\" src=\""+favicon+"\""+" onload=\"javascript:this.style.visibility='inherit';\" /> ";
            }
            if(showPreview) {
                prev=" onmouseover=\"javascript:preview(1,this.href);\" onmouseout=\"javascript:preview(0,0);\"";
            }

            $('mnu_'+m).innerHTML+="<li><a href=\""+links[i][1]+"\" target=\"_self\""+prev+">"+printimg+links[i][0]+"</a></li>";
        } else {
            skip=false; m++;
        }
    }
}

/*
    Optional patch for using "!i" before the search query: http://pastebin.com/Lw24tQ81
*/
function handleQuery(e,q) { // Handle search query
    var key=e.keyCode || e.which;

    if(key==13) { // Enter
        var x=q.lastIndexOf("!");

        if(x!=-1 && x>=q.length-2) {
            for(i=0;i<search.length;i++) {
                if(search[i][0]==q.substr(x)) { // Find "*!i"
                    window.location=search[i][1]+q.substr(0,x).replace(/&/g,"%26");
                    return true;
                }
            }
            // Invalid "!i", use default
            window.location=ss+q.substr(0,x).replace(/&/g,"%26");
        } else {
            // "!i" where not specified, use default
            window.location=ss+q.replace(/&/g,"%26");
        }
    }
}

function getFavicon(url) {
    var l=document.createElement("a");
    l.href=url;

    return l.protocol+"//"+l.hostname+"/favicon.ico";
}

function toggleNote() {
    if($('note')==null) {
        $('help').innerHTML="<textarea id='note' spellcheck='false' placeholder='Store temporary note...'></textarea>";
        if(localStorage.getItem('note')!=null) $('note').value=localStorage.getItem('note');
        $('note').addEventListener('change',function() { localStorage.setItem('note',$('note').value); });
        $('plus').value="-";
        $('note').focus();
    } else {
        $('help').innerHTML=help;
        $('plus').value="+";
        $('q').focus();
    }
}

var pT;
function preview(c,x) {
    clearTimeout(pT);
    switch(c) {
        case 0: // mouseout
            $('overlay').style.opacity=1;
            pT=setTimeout(function() { $('preview').src="about:blank"; },500);
            break;
        case 1: // mouseover
            pT=setTimeout(function() { $('preview').src=x; },100);
            break;
        default: // load
            if($('preview').src!="about:blank") $('overlay').style.opacity=.75;
    }
}

</script>
</head>
<body onload="javascript:init();">
<div id="overlay"></div>
<div id="center">
    <div id="content">
        <div id="menu">
            <ul id="mnu"></ul>
        </div>
        <br />
        <input type="text" id="q" value="" placeholder="Oh boi..." onkeypress="javascript:handleQuery(event,this.value);" onfocus="this.value=this.value" />
        <br /><br />
        <div id="more">
            <input type="button" id="plus" value="+" onclick="javascript:toggleNote();" />
            <br />
            <div id="help"></div>
        </div>
    </div>
</div>
    </div>
</div>
</body>
</html>